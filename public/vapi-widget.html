<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vapi Widget</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: transparent;
            overflow: hidden;
        }
        
        vapi-widget {
            position: fixed !important;
            bottom: 0 !important;
            right: 0 !important;
            z-index: 999999 !important;
            width: auto !important;
            height: auto !important;
            min-width: 60px !important;
            min-height: 60px !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            background-color: white !important;
            border-radius: 50% !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        }
        
        /* Fallback button styles */
        .fallback-button {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 60px;
            height: 60px;
            background: white;
            border: 2px solid #6A0DAD;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 999999;
            transition: transform 0.2s ease;
        }
        
        .fallback-button:hover {
            transform: scale(1.1);
        }
        
        .fallback-button svg {
            width: 24px;
            height: 24px;
            fill: #6A0DAD;
        }
    </style>
</head>
<body>
    <!-- Vapi Widget -->
    <vapi-widget 
        assistant-id="782931dc-51f9-4c96-9f99-a56f967264d2" 
        public-key="45b82946-e45a-48e4-b450-a361346d45ed">
    </vapi-widget>

    <!-- Fallback Button (shown if Vapi widget fails) -->
    <div id="fallback-button" class="fallback-button" style="display: none;">
        <svg viewBox="0 0 24 24">
            <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
        </svg>
    </div>

    <!-- Vapi Script -->
    <script
        src="https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js"
        type="text/javascript"
        onload="initializeVapi()"
        onerror="showFallback()">
    </script>

    <script>
        let vapiInitialized = false;
        
        function initializeVapi() {
            console.log('Vapi script loaded successfully');
            
            // Wait a bit for the widget to initialize
            setTimeout(() => {
                const widget = document.querySelector('vapi-widget');
                if (widget && (widget.offsetWidth > 0 || widget.offsetHeight > 0)) {
                    console.log('Vapi widget initialized successfully');
                    vapiInitialized = true;
                } else {
                    console.log('Vapi widget not visible, showing fallback');
                    showFallback();
                }
            }, 3000);
        }
        
        function showFallback() {
            console.log('Showing fallback button');
            const fallbackButton = document.getElementById('fallback-button');
            const widget = document.querySelector('vapi-widget');
            
            if (widget) {
                widget.style.display = 'none';
            }
            
            fallbackButton.style.display = 'flex';
            fallbackButton.onclick = function() {
                alert('Voice assistant is currently unavailable. Please try again later or contact support.');
            };
        }
        
        // Check if widget loaded after 5 seconds
        setTimeout(() => {
            if (!vapiInitialized) {
                showFallback();
            }
        }, 5000);
    </script>
</body>
</html></vapi-widget>